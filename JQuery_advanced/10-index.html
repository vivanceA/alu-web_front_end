<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8" />
        <title>Task 10</title>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script type="application/javascript">
            $(document).ready(function () {
                function addPostRow(data) {
                    $('body').append(
                        $('<p></p>').append(
                            $('<span></span>').text('Post cerated with id ' + data.id + ', title: ' + data.title + ', author: ' + data.author),
                        )
                    );
                }

                function listPosts() {
                    $.ajax({
                        url:'http://localhost:3000/posts',
                        method: 'GET',
                        success: function (data) {
                            data.forEach(addPostRow);
                        },
                        error: function (error) {
                            alert('Server error: ');
                        }
                    })
                }

                listPosts();
            });
        </script>
    </head>
    <body>
    </body>
</html>